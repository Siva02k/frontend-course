/*! For license information please see 47.a94510c8424afd82ef30.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{102:function(t,e,r){"use strict";var n=r(239),i=r.n(n),o=r(57),a={name:"DragDrop",props:{id:{type:String,required:!0},targetBody:{type:Boolean,required:!1,default:!1},maxFiles:{type:Number,required:!1,default:1},allowedFileTypes:{type:Array,required:!1,default:function(){return[]}},inputName:{type:String,required:!1,default:"files[]"},shouldPreventClick:{type:Boolean,default:!1}},data:function(){return{isDragDropSupported:!1,dragDropInstanceToRemove:null,isHover:!1}},computed:{dragDropClasses:function(){return{"drag-drop-unsupported":!this.isDragDropSupported,"is-hover":this.isHover}},inputStyles:function(){return{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}}},mounted:function(){var t=this;if(this.isDragDropSupported=this.determineDragAndDropCapable(),this.isDragDropSupported){var e=this.targetBody?document.body:this.$el;this.dragDropInstanceToRemove=i()(e,{onDrop:function(e,r,n,i){t.$emit("drop",e,r,n,i);var o=e.filter((function(e){return!t.allowedFileTypes.length||(!!t.allowedFileTypes.includes(e.type)||(Dribbble.EventBus.$emit("siteNotifications:add",{message:"This file type is not allowed here.",title:e.name}),!1))}));t.$emit("files-added",{id:t.id,files:o})},onDragEnter:function(e){t.$emit("drag-enter",e)},onDragLeave:function(e){t.$emit("drag-leave",e)}})}},beforeDestroy:function(){this.dragDropInstanceToRemove&&this.dragDropInstanceToRemove()},methods:{onInputChange:function(t){var e=t.target.files,r=Object.keys(e).map((function(t){return e[t]}));r&&0!==r.length&&this.$emit("files-added",{id:this.id,files:r}),this.$refs&&this.$refs.dragDropInput&&(this.$refs.dragDropInput.value="")},onMouseOver:function(){Object(o.a)()||(this.isHover=!0)},onMouseLeave:function(){Object(o.a)()||(this.isHover=!1)},onTouchStart:function(){Object(o.a)()&&(this.isHover=!0)},onTouchEnd:function(){Object(o.a)()&&(this.isHover=!1)},onClick:function(){this.shouldPreventClick||Object(o.a)()||this.triggerClick()},onTap:function(){!this.shouldPreventClick&&Object(o.a)()&&this.triggerClick()},triggerClick:function(){this.$refs.dragDropInput.click(),this.$emit("drop-area-clicked",{id:this.id})},determineDragAndDropCapable:function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window}}},c=r(0),s=Object(c.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"touch",rawName:"v-touch:start",value:t.onTouchStart,expression:"onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:end",value:t.onTouchEnd,expression:"onTouchEnd",arg:"end"},{name:"touch",rawName:"v-touch:tap",value:t.onTap,expression:"onTap",arg:"tap"}],staticClass:"drag-drop-container",class:t.dragDropClasses,attrs:{id:t.id},on:{mouseover:t.onMouseOver,mouseleave:t.onMouseLeave,click:t.onClick}},[t.isDragDropSupported?t._t("default",(function(){return[r("p",{staticClass:"default-drop-area"},[t._v("\n      Drop files here to upload\n    ")])]})):r("p",{staticClass:"default-drop-area"},[t._v("\n    Click to Upload Files\n  ")]),t._v(" "),r("label",{staticClass:"drag-drop-label"},[r("input",{ref:"dragDropInput",staticClass:"drag-drop-input",style:t.inputStyles,attrs:{value:"",type:"file",name:t.inputName,multiple:1!==t.maxFiles,accept:t.allowedFileTypes},on:{change:t.onInputChange}})])],2)}),[],!1,null,null,null);e.a=s.exports},292:function(t,e,r){"use strict";var n=r(1),i=r(55),o=r(19),a=r(6),c=r(102),s=r(357),l=r(358),u=r(361);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h={name:"BlockMediaEdit",components:{BlockMediaView:l.a,BlockMediaPlaceholder:u.a,ProgressOverlay:s.a,DragDrop:c.a},props:{block:a.z,mediaId:{type:[String,null],default:null},allowedFileTypes:{type:Array,default:function(){return o.m}},aspectRatio:{type:[Number,null],default:null},objectFit:{type:String,default:a.n,validator:function(t){return a.P.includes(t)}},contentObject:a.A,preventDefaultUpload:{type:Boolean,default:!1},isStillVideo:{type:Boolean,default:!1}},data:function(){return{BlockMedia:a.c,imageAndVideoMimeTypes:o.m,INTENT_EDIT_MEDIA:i.a}},computed:{blockMediaParams:function(){return{block:this.block,mediaId:this.mediaId}},hasMedia:function(){return!!a.c.url(this.blockMediaParams)},errorMessage:function(){var t=a.c.get(this.blockMediaParams).tempMedia;return null!=t&&t.uploadFailed?"Upload failed":null}},methods:f(f(f({},Object(n.c)("contentBlocks",["uploadContentBlockMedia"])),Object(n.e)(["setIntent"])),{},{openDragDropFileInput:function(){this.$refs.dragDrop.triggerClick()},emitAndUploadMedia:function(t){var e=t.files;this.$emit("files-added",e),this.preventDefaultUpload||this.uploadContentBlockMedia(f(f({},this.blockMediaParams),{},{files:e}))}})},v=(r(594),r(0)),m=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("progress-overlay",{staticClass:"progress-overlay",attrs:{progress:t.BlockMedia.uploadProgress(t.blockMediaParams),"error-message":t.errorMessage},nativeOn:{click:function(e){return t.setIntent(t.INTENT_EDIT_MEDIA)}}},[r("drag-drop",{ref:"dragDrop",attrs:{id:"drag-drop-block-media-"+t.block.id,"allowed-file-types":t.allowedFileTypes,"should-prevent-click":""},on:{"files-added":t.emitAndUploadMedia}},[t.hasMedia?r("block-media-view",{attrs:{block:t.block,"media-id":t.mediaId,"aspect-ratio":t.aspectRatio,"object-fit":t.objectFit,"content-object":t.contentObject,"is-still-video":t.isStillVideo,"prevent-lightbox":"","is-editing":""}}):r("block-media-placeholder",{on:{click:t.openDragDropFileInput}})],1)],1)}),[],!1,null,"7dc72494",null);e.a=m.exports},357:function(t,e,r){"use strict";var n={name:"ProgressOverlay",components:{Icon:r(16).default},props:{progress:{type:Number,default:null,validator:function(t){return t>=0&&t<=100}},errorMessage:{type:String,default:null}}},i=(r(582),r(0)),o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,arrowTransform:"scale(0.75)"},expression:"{\n    placement: 'top',\n    arrow: true,\n    arrowTransform: 'scale(0.75)',\n  }"}],staticClass:"progress-overlay",attrs:{title:t.errorMessage}},[t._t("default"),t._v(" "),t.progress>0?r("div",{staticClass:"progress",style:{left:t.progress+"%"}}):t._e(),t._v(" "),t.errorMessage?r("icon",{staticClass:"error-icon",attrs:{"svg-class":"icon",type:"exclamation"}}):t._e()],2)}),[],!1,null,"4e01f2aa",null);e.a=o.exports},361:function(t,e,r){"use strict";var n={name:"BlockMediaPlaceholder",methods:{emitClick:function(){this.$emit("click")}}},i=(r(593),r(0)),o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"placeholder"},[r("span",[t._t("default",(function(){return[t._v("\n      Drag and drop media, or\n      "),r("span",{staticClass:"browse-button",on:{click:t.emitClick}},[t._v(" Browse")])]}))],2)])}),[],!1,null,"49307330",null);e.a=o.exports},439:function(t,e,r){},452:function(t,e,r){},453:function(t,e,r){},458:function(t,e,r){},459:function(t,e,r){},472:function(t,e,r){"use strict";var n=r(6),i=r(19),o=r(477),a=r(16),c={name:"Carousel",components:{Icon:a.default,Flickity:o.a},props:{slideCount:{type:Number,required:!0,validator:function(t){return t>=0}},initialSlideIndex:{type:Number,default:0,validator:function(t){return t>=0}},shouldShowNavigation:{type:Boolean,default:!0},aspectRatio:{type:String,default:"auto"},flickityKey:{type:String,default:"flickity"}},data:function(){return{currentSlideIndex:this.initialSlideIndex,flickityOptions:{prevNextButtons:!1,pageDots:!1,wrapAround:!1}}},computed:{isFirstSlide:function(){return 0===this.currentSlideIndex},isLastSlide:function(){return this.currentSlideIndex===this.slideCount-1}},mounted:function(){this.bindFlickityEvents()},updated:function(){this.unbindFlickityEvents(),this.bindFlickityEvents()},destroyed:function(){this.unbindFlickityEvents()},methods:{disableExtraInteractions:function(){document.body.classList.add("prevent-touch-move"),document.body.classList.add("is-carousel-dragging")},enableExtraInteractions:function(){setTimeout((function(){document.body.classList.remove("prevent-touch-move"),document.body.classList.remove("is-carousel-dragging")}),0)},bindFlickityEvents:function(){this.$refs.flickity&&(this.$refs.flickity.on("change",this.setCurrentSlide),this.$refs.flickity.on("dragStart",this.disableExtraInteractions),this.$refs.flickity.on("dragEnd",this.enableExtraInteractions),document.addEventListener("touchmove",this.checkTouchMove,{passive:!1}))},unbindFlickityEvents:function(){this.$refs.flickity&&(this.$refs.flickity.off("change",this.setCurrentSlide),this.$refs.flickity.off("dragStart",this.disableExtraInteractions),this.$refs.flickity.off("dragEnd",this.enableExtraInteractions),document.removeEventListener("touchmove",this.checkTouchMove),this.enableExtraInteractions())},checkTouchMove:function(t){document.body.classList.contains("prevent-touch-move")&&t.preventDefault()},setCurrentSlide:function(t){this.$emit("slide-change",t),this.currentSlideIndex=t,this.flickityOptions.initialIndex=t},navigateTo:function(t){var e=this.slideCount-1,r=t;r>e&&(r=e),r<0&&(r=0),this.$refs.flickity.select(r)},goToNextSlide:function(){this.$refs.flickity.next()},goToPrevSlide:function(){this.$refs.flickity.previous()}}},s=(r(608),r(0)),l=Object(s.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"carousel",style:{"--aspect-ratio":t.aspectRatio},attrs:{"data-test":"carousel"}},[r("flickity",{key:t.flickityKey,ref:"flickity",staticClass:"base-carousel",attrs:{"data-test":"base-carousel",options:t.flickityOptions},on:{change:function(e){return t.setCurrentSlide(e)}}},[t._t("default")],2),t._v(" "),t.shouldShowNavigation?[t.isFirstSlide?t._e():r("div",{staticClass:"navigation-controls prev-button",attrs:{"data-test":"carousel-prev-button"},on:{click:function(e){return e.stopPropagation(),t.goToPrevSlide.apply(null,arguments)}}},[r("icon",{attrs:{"svg-class":"arrow",type:"caretLeft"}})],1),t._v(" "),!t.isLastSlide&&t.slideCount>1?r("div",{staticClass:"navigation-controls next-button",attrs:{"data-test":"carousel-next-button"},on:{click:function(e){return e.stopPropagation(),t.goToNextSlide.apply(null,arguments)}}},[r("icon",{attrs:{"svg-class":"arrow",type:"caretRight"}})],1):t._e()]:t._e()],2)}),[],!1,null,"ed64d96e",null).exports,u=r(358),d=r(292);function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(D){s=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),c=new j(i||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(D){return{type:"throw",arg:D}}}t.wrap=l;var d={};function p(){}function h(){}function v(){}var m={};s(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(_([])));g&&g!==e&&r.call(g,o)&&(m=g);var b=v.prototype=p.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){var i;n(this,"_invoke",{value:function(n,o){function a(){return new e((function(i,a){!function n(i,o,a,c){var s=u(t[i],t,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(k.prototype),s(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new k(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function p(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(l){return void r(l)}c.done?e(s):Promise.resolve(s).then(n,i)}var h={name:"SlideshowBlockBase",components:{Icon:function(){return Promise.resolve().then(r.bind(null,16))},BlockMediaPlaceholder:r(361).a,BlockMediaEdit:d.a,BlockMediaView:u.a,Carousel:l},props:{block:n.z,isEditing:{type:Boolean,default:!1}},data:function(){return{isMounted:!1,imageAndVideoMimeTypes:i.m,currentSlideIndex:0}},computed:{slides:function(){return this.block.content.slides},aspectRatio:function(){return this.slides.length?n.c.aspect({block:this.block,mediaId:this.slides[0].mediaId}):16/9},blockMediaComponent:function(){return this.isEditing?"BlockMediaEdit":"BlockMediaView"},flickityKey:function(){var t=this.slides.map((function(t){return t.mediaId}));return"flickity-".concat(t.join("-"))}},mounted:function(){var t=this;this.isMounted=!0,Dribbble.EventBus.$on("slideshow:slideSelected",(function(e){var r=e.slideIndex,n=e.blockId;t.block.id===n&&t.navigateToSlide(r)})),this.isEditing&&this.initializeSortable()},methods:{emitFilesAdded:function(t){this.$emit("files-added",t)},updateCurrentSlide:function(t){this.currentSlideIndex=t,this.$emit("slide-change",t),this.isEditing||this.scrollThumbnailList(t)},scrollThumbnailList:function(t){var e=this.$refs["thumbnails-list"],r=null==e?void 0:e.querySelector('[data-thumbnail-index="'.concat(t,'"]'));if(e&&r){var n=e.getBoundingClientRect(),i=r.getBoundingClientRect(),o=i.left-n.left,a=n.right-i.right;o<70?e.scrollBy({left:-i.width,behavior:"smooth"}):a<70&&e.scrollBy({left:i.width,behavior:"smooth"})}},emitDeleteSlide:function(t){this.$emit("delete-slide",t)},emitOpenFileInput:function(){this.$emit("open-file-input")},navigateToSlide:function(t){this.$refs["slideshow-carousel"].navigateTo(t)},fullMediaType:function(t){return n.c.fullType({block:this.block,mediaId:t})},initializeSortable:function(){var t,e=this;return(t=f().mark((function t(){var n,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(69).then(r.bind(null,543));case 2:n=t.sent,i=n.Sortable,e.sortable=i.create(e.$refs["thumbnails-list"],{animation:150,filter:"[data-sortable-disabled]",dataIdAttr:"data-media-id",onSort:function(){e.$emit("sort-slides",e.sortable.toArray())},onMove:function(t){return!t.related.hasAttribute("data-sortable-disabled")}});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){p(o,n,i,a,c,"next",t)}function c(t){p(o,n,i,a,c,"throw",t)}a(void 0)}))})()}}},v=(r(609),Object(s.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"width-100"},[r("carousel",{ref:"slideshow-carousel",staticClass:"w-100",attrs:{"aspect-ratio":t.aspectRatio.toString(),"slide-count":t.slides.length,"flickity-key":t.flickityKey},on:{"slide-change":t.updateCurrentSlide}},[!t.slides.length&&t.isEditing?r("block-media-placeholder",{on:{click:t.emitOpenFileInput}}):t._l(t.slides,(function(e){return r(t.blockMediaComponent,{key:e.mediaId,tag:"component",attrs:{block:t.block,"media-id":e.mediaId,"aspect-ratio":t.aspectRatio,"object-fit":e.objectFit,"content-object":e,"prevent-default-upload":""},on:{"files-added":t.emitFilesAdded}})}))],2),t._v(" "),r("div",{staticClass:"thumbnails-container"},[t.isEditing?t._e():r("span",{staticClass:"scroll-indicator left"}),t._v(" "),t.isEditing?t._e():r("span",{staticClass:"scroll-indicator right"}),t._v(" "),r("ul",{ref:"thumbnails-list",staticClass:"thumbnails-list",class:{"is-editing":t.isEditing,"is-viewing":!t.isEditing}},[t._l(t.slides,(function(e,n){return r("li",{key:"thumbnail-wrapper-"+e.mediaId,staticClass:"thumbnail-wrapper",attrs:{"data-media-id":e.mediaId,"data-thumbnail-index":n}},[t.isEditing?r("button",{staticClass:"delete-button",on:{click:function(e){return t.emitDeleteSlide(n)}}},[r("icon",{attrs:{type:"trash","svg-class":"delete-icon"}})],1):t._e(),t._v(" "),"image"===t.fullMediaType(e.mediaId)||t.isEditing?t._e():r("div",{class:"media-type-icon "+t.fullMediaType(e.mediaId)+" loading-indicators-image"}),t._v(" "),r("button",{staticClass:"thumbnail-button",class:{"is-active":t.currentSlideIndex===n},on:{click:function(e){return t.navigateToSlide(n)}}},[r(t.blockMediaComponent,{key:"thumb-"+e.mediaId,tag:"component",attrs:{block:t.block,"media-id":e.mediaId,"aspect-ratio":4/3,"object-fit":"cover","content-object":e,"prevent-default-upload":"","prevent-lightbox":"","is-still-video":""},on:{"files-added":t.emitFilesAdded}})],1)])})),t._v(" "),t.isEditing?r("li",{staticClass:"thumbnail-wrapper",attrs:{"data-sortable-disabled":""}},[r("button",{staticClass:"thumbnail-button create-slide-button",on:{click:t.emitOpenFileInput}},[r("icon",{attrs:{type:"plus","svg-class":"plus-icon"}})],1)]):t._e()],2)])],1)}),[],!1,null,"10a588e5",null));e.a=v.exports},55:function(t,e,r){"use strict";r.d(e,"f",(function(){return p})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return v})),r.d(e,"e",(function(){return m})),r.d(e,"i",(function(){return y})),r.d(e,"j",(function(){return g})),r.d(e,"d",(function(){return b})),r.d(e,"b",(function(){return w})),r.d(e,"a",(function(){return k})),r.d(e,"c",(function(){return x})),r.d(e,"s",(function(){return E})),r.d(e,"q",(function(){return O})),r.d(e,"t",(function(){return S})),r.d(e,"l",(function(){return j})),r.d(e,"n",(function(){return _})),r.d(e,"k",(function(){return I})),r.d(e,"m",(function(){return D})),r.d(e,"o",(function(){return L})),r.d(e,"p",(function(){return T})),r.d(e,"r",(function(){return C})),r.d(e,"u",(function(){return P}));var n=r(5),i=r.n(n),o=r(34),a=r(6);function c(){c=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(D){l=function(t,e,r){return t[e]=r}}function u(t,e,r,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),c=new j(i||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(D){return{type:"throw",arg:D}}}t.wrap=u;var f={};function p(){}function h(){}function v(){}var m={};l(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(_([])));g&&g!==e&&r.call(g,o)&&(m=g);var b=v.prototype=p.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){var i;n(this,"_invoke",{value:function(n,o){function a(){return new e((function(i,a){!function n(i,o,a,c){var s=d(t[i],t,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function x(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=d(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function E(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=d(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=v,n(b,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(k.prototype),l(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new k(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function s(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(l){return void r(l)}c.done?e(s):Promise.resolve(s).then(n,i)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p="descriptionPrompModal",h="finalTouchesModal",v="projectModal",m="createProjectModal",y="scheduleModal",g="selectThumbnailModal",b="collaboratorsModal",w="intentEditText",k="intentEditMedia",x="intentNone",E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat("editableText").concat(t)},O=function(t){return"".concat("contentBlock").concat(t)},S=function(t){var e,r,n,i=t.refs,o=t.blockId,a=null==(e=i[E(o)])?void 0:e[0],c=null==(r=i[O(o)])?void 0:r[0];if(null!=c&&c.$refs){var s=Object.keys(c.$refs),l=s.findIndex((function(t){return t.startsWith("editableText")}));l>-1&&(n=c.$refs[s[l]])}return a||n},j=function(t,e){var r={label:t.name,value:t.id,imageUrl:t.avatarUrl,isDisabled:e&&!t.canAccessPro},n=t.teams.map((function(t){var r=t.name,n=t.id,i=t.avatarUrl,o=t.canAccessPro;return{label:r,value:n,imageUrl:i,isDisabled:e&&!o}}));return[r].concat(d(n))},_=function(t){return t.map((function(t){var e,r,n={name:t.name,width:null==(e=t.dimensions)?void 0:e.width,height:null==(r=t.dimensions)?void 0:r.height,type:t.type,size:t.size};return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({id:t.isNew?null:t.id,croppedDetails:t.croppedDetails,keepOriginal:t.keepOriginal,s3SourceUrl:t.s3SourceUrl},t.isNew&&n)}))},I=function(t){return t.map((function(t){return{id:t.isNew?null:t.id,name:t.name,s3SourceUrl:t.s3SourceUrl,size:t.size,type:t.type}}))},D=function(t){var e,r=t.croppedStillUrl,n=t.croppedOriginalUrl,i=t.isVideo,a=t.isAnimatedGif,c=t.shrineCacheId,s=t.fileDetails,l=t.cropData;return e=i?o.c:a?o.a:o.b,{id:Dribbble.uuidv4(),fileId:c,previewUrl:i?n:r||n,cropData:l,thumbnailMediaType:e,progress:0,uploadErrorMsg:null,tempCroppedPreviewUrl:null,fileDetails:s}},L=function(t,e){return e===o.a?o.a:t},T=function(t){var e;return null!=(e=t.content.media)&&e.length?t.content.media.reduce((function(e,r){return r.shrineCacheId&&e.push({id:r.id,fileId:r.shrineCacheId,previewUrl:a.c.url({block:t,mediaId:r.id}),tempCroppedPreviewUrl:null,cropData:{},thumbnailMediaType:L(r.type,r.fileExtension),fileDetails:{}}),e}),[]):[]},C=function(t){var e;return null==(e=T(t))?void 0:e[0]},P=function(){var t,e=(t=c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/client_app/user_media");case 2:return e=t.sent,t.abrupt("return",e.data.data.filter((function(t){return!!t.media.length})));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){s(o,n,i,a,c,"next",t)}function c(t){s(o,n,i,a,c,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()},57:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))}},582:function(t,e,r){"use strict";r(439)},593:function(t,e,r){"use strict";r(452)},594:function(t,e,r){"use strict";r(453)},608:function(t,e,r){"use strict";r(458)},609:function(t,e,r){"use strict";r(459)},926:function(t,e,r){"use strict";r.r(e);var n=r(6),i={name:"SlideshowBlockView",components:{SlideshowBlockBase:r(472).a},props:{block:n.z}},o=r(0),a=Object(o.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("slideshow-block-base",{attrs:{block:this.block}})}),[],!1,null,null,null);e.default=a.exports}}]);