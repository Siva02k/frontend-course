Dribbble.ButtonDropdown={buttonDropdowns:document.querySelectorAll(".btn-dropdown"),buttonDropdownLinks:document.querySelectorAll(".btn-dropdown-link"),initialize:function(){this.buttonDropdowns.length&&this.buttonDropdownLinks.length&&(this.bindEventListeners(),this.buttonDropdownLinks.forEach(function(t){var e=t.querySelector("span");t.dataset.dropdownState="closed",e&&e.dataset.fadeDefault&&e.innerText.trim()==e.dataset.prompt&&e.classList.add("default-option")}))},bindEventListeners:function(){0!==this.buttonDropdownLinks.length&&this.buttonDropdownLinks.forEach(this._bindEachDropdown.bind(this))},addLinks:function(t,e){this.buttonDropdownLinks=Array.prototype.slice.call(this.buttonDropdownLinks).concat(e),this.buttonDropdowns=Array.prototype.slice.call(this.buttonDropdowns).concat(t),e.forEach(this._bindEachDropdown.bind(this))},closeAll:function(){this.buttonDropdowns.forEach(function(t){t.classList.contains("open")&&(t.classList.remove("open"),t.querySelector(".btn-dropdown-link").dataset.dropdownState="closed")})},closeAllWhenClickedOutside:function(t){var e=!1;this.buttonDropdownLinks.forEach(function(i){i.contains(t.target)&&(e=!0)}),e||this.closeAll()},resetDropdown:function(t,e){t.querySelectorAll(".active").forEach(function(t){t.classList.remove("active")});var i=t.querySelector(".btn-dropdown-link span");i.dataset.fadeDefault&&i.classList.add("default-option"),i.innerText=e||i.dataset.prompt,t.querySelector(".btn-dropdown-options .default-filter-option").classList.add("active")},updateDropdown:function(t,e){if(e){var i=t.querySelector('[data-value="'+e+'"] a');i&&this._selectOption({target:i})}else this.resetDropdown(t)},click:function(t,e){e||(e={bubbles:!0,cancelable:!1});var i=document.querySelector(t);i&&(event=new MouseEvent("click",e),i.dispatchEvent(event))},_bindEachDropdown:function(t){t.addEventListener("click",this._openDropdown.bind(this)),t.nextElementSibling.querySelectorAll("a").forEach(this._bindEachOption.bind(this))},_bindEachOption:function(t){t.addEventListener("click",this._selectOption.bind(this))},_selectOption:function(t,e){var i=t.target,o=i.closest(".btn-dropdown"),s=o.querySelector("span"),r=o.querySelector(".active");r&&r.classList.remove("active"),s&&(s.innerHTML=e||i.innerHTML,s.dataset.fadeDefault&&s.innerText.trim()==s.dataset.prompt?s.classList.add("default-option"):s.classList.remove("default-option")),i.parentNode.classList.add("active")},_openDropdown:function(t){t.preventDefault(),t.currentTarget.dataset.dropdownState="open"==t.currentTarget.dataset.dropdownState?"closed":"open";var e=t.target.closest(".btn-dropdown-link"),i=e.parentNode.classList.contains("open");this.closeAll(),i||(document.addEventListener("click",this.closeAllWhenClickedOutside.bind(this)),e.parentNode.classList.add("open"))}},function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=i,o}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}function e(i){function o(e,s,r){var n;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},o.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{n=JSON.stringify(s),/^[\{\[]/.test(n)&&(s=n)}catch(m){}s=i.write?i.write(s,e):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in r)r[l]&&(c+="; "+l,!0!==r[l]&&(c+="="+r[l]));return document.cookie=e+"="+s+c}e||(n={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var g=f[0].replace(d,decodeURIComponent);if(p=i.read?i.read(p,g):i(p,g)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(m){}if(e===g){n=p;break}e||(n[g]=p)}catch(m){}}return n}}return o.set=o,o.get=function(t){return o.call(o,t)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,i){o(e,"",t(i,{expires:-1}))},o.withConverter=e,o}return e(function(){})}),Dribbble.ShotFilters={form:document.querySelector(".shot-filters-form"),shotViewLinks:document.querySelectorAll(".js-shot-views .btn-dropdown-options a"),shotViewFilterLinks:document.querySelectorAll("[data-shot-view-link]"),pathSetters:document.querySelectorAll(".sets-path a, .find-shots-made-with .clear-filter"),directCategoryLinks:document.querySelectorAll("[data-direct-category-link]"),querystringSetters:document.querySelectorAll(".sets-querystring a"),searchInputs:document.querySelectorAll(".input-with-icon input, .js-tag-search-input"),categoryLinks:document.querySelectorAll(".js-shot-categories a"),priceInputs:document.querySelectorAll("#price_floor, #price_ceiling"),clearFilters:document.querySelectorAll(".clear-filter"),toggleTagsInputBtn:document.querySelector(".js-toggle-tag-input-btn"),onFilterSuccess:null,tagAutocompleteUrl:null,filterByYearLists:document.querySelectorAll(".filter-by-year-options"),initialized:!1,initialize:function(t){this.initialState=Object.assign({},t.state),this.previousRoute=document.location.href.replace(/\+/g," "),this.state=t.state,this.onFilterSuccess=t.onFilterSuccess,this.pathMatcher=t.pathMatcher,this.tagAutocompleteUrl=t.tagAutocompleteUrl||"/autocompletes/tags",this.bindEvents(),this.setupTagAutocomplete(),this.initialized=!0,this._updateDirectCategoryHrefs()},setupTagAutocomplete:function(){var t;new autoComplete({menuClass:"btn-dropdown-options",selector:"#tag",source:function(e,i){try{t.abort()}catch(o){}t=$.getJSON(this.tagAutocompleteUrl,{q:e},function(t){return strings=t.map(function(t){return t.text}),i(strings)})}.bind(this)})},bindEvents:function(){if(window.onpopstate=function(t){var e=document.location.pathname;(e.match(this.pathMatcher)||["/","/shots"].indexOf(e)>-1||e.match(/^\/search\//))&&this._submitForm(t)}.bind(this),this.pathSetters.forEach(function(t){t.addEventListener("click",this._pathChanged.bind(this))}.bind(this)),this.directCategoryLinks.forEach(function(t){t.addEventListener("click",this._setFiltersAndTrackEvent.bind(this))}.bind(this)),this.querystringSetters.forEach(function(t){t.addEventListener("click",this._queryStringChanged.bind(this))}.bind(this)),this.searchInputs.forEach(function(t){t.addEventListener("blur",this._updateLocation.bind(this)),t.addEventListener("keydown",this._inputSubmitted.bind(this))}.bind(this)),this.categoryLinks.forEach(function(t){t.addEventListener("click",this._categoryChanged.bind(this))}.bind(this)),$(this.priceInputs).on("change",this._updateLocation.bind(this)),this.clearFilters.forEach(function(t){t.addEventListener("click",this._clearFilter.bind(this))}.bind(this)),this.form.addEventListener("submit",this._updateLocation.bind(this)),this.shotViewLinks.forEach(function(t){t.addEventListener("click",this._trackShotViewLink.bind(this))}.bind(this)),this.shotViewFilterLinks&&this.shotViewFilterLinks.forEach(function(t){t.addEventListener("click",this._trackShotViewLink.bind(this))}.bind(this)),this.toggleTagsInputBtn){var t=document.querySelector(".js-tags-input-container");if(!t)return;var e=t.querySelector("input"),i=this.toggleTagsInputBtn;i.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("hide"),i.classList.add("open"),t.dataset.inputOpen="true"===t.dataset.inputOpen?"false":"true",document.querySelector(".js-dropdown-caret").classList.toggle("rotate"),e.stopPropagation()}),document.addEventListener("click",function(o){o.target!==e&&"true"===t.dataset.inputOpen&&(t.classList.toggle("hide"),i.classList.remove("open"),t.dataset.inputOpen="false",document.querySelector(".js-dropdown-caret").classList.toggle("rotate"))})}this.filterByYearLists.length&&this._setScrollingBlur()},_closeFilters:function(){Dribbble.ShotFiltersToggler.close()},_categoryChanged:function(t){this._clearActiveCategory(),t.target.parentNode.classList.add("active")},_pathChanged:function(t){if(!t.target.classList.contains("clear-filter")){var e=t.target.closest("fieldset");if(e){var i=e.querySelector(".clear-filter");this._toggleClearLink(i,!0)}}this.set(t.target.dataset.param,t.target.dataset.value),this.form.action=this._assembleUrl(),this._updateLocation()},_setFiltersAndTrackEvent:function(t){this.set(t.target.dataset.param,t.target.dataset.value),this.trackFilters()},_setScrollingBlur:function(){this.filterByYearLists.forEach(function(t){t.addEventListener("scroll",function(){var e=t.querySelector("[data-scrolling-blur]");e&&(Math.abs(t.scrollHeight-t.clientHeight-t.scrollTop)<1?(e.style.opacity=0,e.style.zIndex=-1):(e.style.opacity=1,e.style.zIndex=1))})})},_updateDirectCategoryHrefs:function(){this.directCategoryLinks.forEach(function(t){var e=new URL(this._routeString()),i=new URLSearchParams(e.search);t.dataset.value&&i.set("category",t.dataset.value);var o=new URL(t.href);o.search=i,t.href=o.toString()}.bind(this))},_assembleUrl:function(){var t=this.state.prefix;return this.state.view&&(t+="/"+this.state.view),this.state.category&&(t+="/"+this.state.category),t},_queryStringChanged:function(t){if(t.preventDefault(),keyVal=t.currentTarget.href.split("="),key="#"+keyVal[0].split("?")[1],val=keyVal[1],$D.setValue(key,val),!t.bubbles&&t.cancelable)return!1;t.currentTarget.href.indexOf("source_file")>0&&Dribbble.ButtonDropdown.click(".timeframe-all-time a",{bubbles:!1,cancelable:!0}),this._updateLocation()},_inputSubmitted:function(t){var e=13,i=document.querySelector('drb-dropdown[name="tag-dropdown"]');t.keyCode==e&&(this._updateLocation(t),"Tag"===t.target.dataset.name&&i&&i.close())},_updateLocation:function(t){t&&t.target.closest("form")&&"true"===t.target.closest("form").dataset.shotFiltersMobileForm&&(this.form=document.querySelector("[data-shot-filters-mobile-form]")),t&&t.preventDefault(),this._updateStateFromForm(),this._updateSEOData(),this.trackFilters(),this._updateDirectCategoryHrefs(),Dribbble.EventBus.$emit("shotFilters:updatedLocation",this.state),window.freestar&&!Dribbble.JsConfig.user.isLoggedIn&&freestar.queue.push(function(){freestar.trackPageview()})},trackFilters:function(){var t={};if(this.state.category){var e="";e="product-design"===this.state.category?"Product Design":"web-design"===this.state.category?"Web Design":"prints"===this.state.category?"Print":"illustrations"===this.state.category?"Illustration":Dribbble.String.capitalize(this.state.category),t.category=e}if(this.state.view){var i={following:"Following",popular:"Popular",recent:"New & Noteworthy"};t.feed=i[this.state.view]}if(this.state.color&&(t.color=this.state.color),this.state.source_file){var o={".ai":"Adobe Illustrator",".psd":"Adobe Photoshop",".xd":"Adobe XD",".fig":"Figma",".studio":"Invision Studio",".sketch":"Sketch"};t.downloads=o[this.state.source_file]}this.state.tag&&(t.tags=this.state.tag),ExternalTracking.track("ShotFeedFiltered",t)},_submitForm:function(t){var e=null,i=null,o=document.location.href.replace(/\+/g," "),s=decodeURI(this._routeString());if("popstate"===t.type&&t.constructor===PopStateEvent){if(document.location.href==this._routeString()||o==s||o===this.previousRoute)return;i=document.location.href,e={t:!1},this._handleBackButton(t)}else i=this._assembleUrl(),(e=this._routeData()).t=!0;this.previousRoute=o,$.ajax(i,{data:e,method:"GET",success:function(t){document.querySelector(".shot-filters");if($(this._shotsContainer()).html(t),Dribbble.MediaSwap&&new Dribbble.MediaSwap("[data-video-teaser-small][data-video-teaser-large]"),this.onFilterSuccess&&this.onFilterSuccess(),Dribbble.Thumbnails){Dribbble.Thumbnails.infiniteScroller.baseUrl=window.location.href,Dribbble.Thumbnails.infiniteScroller.reachedEnd=!1,Dribbble.Thumbnails.infiniteScroller.disabledNext=!1,Dribbble.Thumbnails.infiniteScroller.setPage(1),Dribbble.Thumbnails.infiniteScroller.setLoading(!1),Dribbble.Thumbnails.infiniteScroller.staticParams.t=e.t;var i=new Event("dribbble.filterShotResults",{bubbles:!0});document.dispatchEvent(i),Dribbble.ShotFiltersToggler.refresh()}var o=document.querySelector(".js-tag-icon");e.tag&&o?o.classList.add("active"):o&&o.classList.remove("active")}.bind(this)})},_updateStateFromForm:function(){$(this.form).serializeArray().forEach(function(t){"utf8"!=t.name&&""!=t.value&&this.set(t.name,t.value)}.bind(this))},_routeData:function(){var t={},e=$(this.form).serializeArray(),i=this.form.action.indexOf("recent")>0||"/"==document.location.pathname;return e.forEach(function(e){"utf8"!=e.name&&(this._toggleClearLinkFromField(e.name,e.value),""!=e.value&&("timeframe"==e.name&&i?this.state.timeframe=null:t[e.name]=e.value))}.bind(this)),"/search/shots"==this.state.prefix&&(t.q=document.querySelector(".js-search-input").value),t},_routeString:function(t){var e="",i=t||this._routeData();return Object.keys(i).length>0&&(e="?"+$.param(i)),this.form.action+e},_clearFilter:function(t){t.target.dataset.param.split(",").forEach(function(t){this._clearValue(t)}.bind(this));var e=t.target.closest("fieldset").querySelector(".btn-dropdown");e&&Dribbble.ButtonDropdown.resetDropdown(e),this._toggleClearLink(t.target,!1),this._updateLocation(t)},_clearValue:function(t){$D.setValue("#"+t,"")},_toggleClearLinkFromField:function(t,e){var i=!!e,o=t;"price_floor"==t&&(o="price_floor,price_ceiling",i=i||""!=document.getElementById("price_ceiling").value);var s=document.querySelectorAll("[data-param='"+o+"']")[0];this._toggleClearLink(s,i)},_toggleClearLink:function(t,e){t&&(e?$D.show(t):$D.hide(t))},_shotsContainer:function(){var t=document.querySelector("ol.dribbbles.group"),e=document.querySelector("div.null-message, div.no-results");return t||(e?(e.insertAdjacentHTML("beforebegin",'<ol class="dribbbles group"></ol>'),e.remove(),document.querySelector("ol.dribbbles.group")):void 0)},set:function(t,e){this.state[t]=e,this._toggleClearLinkFromField(t,e)},_handleBackButton:function(){History.getState().data.shotFilters?this.state=History.getState().data.shotFilters:this.state=Object.assign({},this.initialState),this._renderControls(),this.form.action=this._assembleUrl(),$(document).scrollTop(0)},_renderDropdown:function(t,e){t&&Dribbble.ButtonDropdown.updateDropdown(t,e)},_renderControls:function(){Object.keys(this.state).forEach(function(t){var e=this.form.querySelector("#"+t);e&&($D.setValue(e,this.state[t]),this._toggleClearLinkFromField(t,this.state[t]),this._renderDropdown(e.closest("fieldset").querySelector(".btn-dropdown"),this.state[t]))}.bind(this)),this._clearActiveCategory();var t=document.querySelector('.js-shot-categories [data-value="'+this.state.category+'"]');(t=t||document.querySelector(".js-shot-categories li:nth-child(1)"))&&t.closest("li").classList.add("active"),this.state.hasOwnProperty("q")&&$D.setValue('[name="q"]',this.state.q),Dribbble.ShotColorFilters.redraw()},_clearActiveCategory:function(){var t=document.querySelector(".js-shot-categories li.active");t&&t.classList.remove("active")},_trackShotViewLink:function(t){this._trackNonAjaxFilter();var e=new URL(t.currentTarget.href);t.currentTarget.dataset.trackView&&ExternalTracking.track("ShotFeedFiltered",{feed:t.currentTarget.dataset.trackView}),this.state.category&&("/"!==e.pathname&&""!==e.pathname||(e.pathname="/shots/following"),e.pathname=e.pathname+"/"+this.state.category),t.preventDefault(),window.location=e.href},_trackNonAjaxFilter:function(){expires=new Date((new Date).getTime()+6e4),Cookies.set("trackNonAjaxFilter",1,{expires:expires})},_updateSEOData:function(){var t,e=document.querySelector(".js-shot-views");e&&(t="popular"===e.dataset.view),$.ajax({url:"/client_app/js_config/seo_copy",type:"GET",dataType:"json",data:{category:this.state.category,popular:t},success:function(t){if(t.data){Dribbble.Router.pushState({shotFilters:this.state},t.data.meta_title,this._routeString()),document.querySelector('meta[name="description"]').setAttribute("content",t.data.meta_description);var e=document.querySelector(".js-signed-out-masthead h1"),i=document.querySelector(".js-signed-out-masthead h2");e&&i&&(e.textContent=t.data.h1,i.textContent=t.data.h2);var o=document.querySelector(".js-signed-out-masthead"),s=document.querySelector(".hero-media-asset:first-child");if(o&&s){var r=t.data.assets[Math.floor(Math.random()*t.data.assets.length)],n=r.src,a=r.src_lg,c=r.src_sm,l=r.type,u=r.user,d=r.user_login;function h(t,e){t.classList.remove("is-visible"),t.classList.add("is-hidden"),t.parentElement.append(e),setTimeout(function(){e.classList.add("is-visible")},200),setTimeout(function(){t.remove()},1e3)}if("video"===l){var f=window.innerWidth,p=document.createElement("video");p.dataset.srcLg=a,p.dataset.srcSm=c,p.src=a,f<768&&c&&(p.src=c),p.classList.add("hero-media-asset","is-hidden"),p.autoplay=!0,p.controls=!1,p.muted=!0,p.loop=!0,p.setAttribute("playsinline","playsinline"),p.setAttribute("webkit-playsinline","webkit-playsinline"),h(s,p)}else if("image"===l){var g=document.createElement("img");g.classList.add("hero-media-asset","is-hidden"),g.src=n,h(s,g)}var m=document.querySelector(".hero-attribution-link");m&&(m.textContent="@"+u,m.href="/"+d)}}}.bind(this)}),$.ajax({url:"/client_app/js_config/suggested_filters",type:"GET",dataType:"json",data:{category:this.state.category},success:function(t){if(t.data){var e=document.querySelector(".js-signed-out-masthead"),i=document.querySelector(".hero-media-asset:first-child");if(e&&i){var o=document.querySelector(".search-suggestions-hero"),s=document.createElement("li");s.classList.add("search-results-suggestion","search-results-suggestion-heading"),s.textContent="Trending searches",o.replaceChildren(""),o.appendChild(s);for(var r=0;r<t.data.length;++r){var n=document.createElement("li");n.classList.add("search-results-suggestion");var a=document.createElement("a");a.textContent=t.data[r],a.href="/search/"+t.data[r],n.appendChild(a),o.appendChild(n)}}}}})}},Dribbble.ShotColorFilters={initialize:function(){if(this.colorInput=document.querySelector(".find-shots-color input"),this.colorInput){this.useMobileForm=document.querySelector("form[data-shot-filters-mobile-form]")&&window.screen.availWidth<960,this.mobileColorInput=document.querySelector("form[data-shot-filters-mobile-form] .find-shots-color input"),this.mobileColorInput&&this.useMobileForm&&(this.colorInput=this.mobileColorInput),this.useMobileForm?(this.colorSwatch=document.querySelector("form[data-shot-filters-mobile-form] .color-swatch"),this.colorLinks=document.querySelectorAll("form[data-shot-filters-mobile-form] .color-chips a")):(this.colorSwatch=document.querySelector(".color-swatch"),this.colorLinks=document.querySelectorAll(".color-chips a"));var t=this.colorInput.closest("fieldset");this.clearLink=t.querySelector(".clear-filter"),this.colorOptions=t.querySelector(".btn-dropdown-options"),this.bindEvents(),this.setup()}},setup:function(){""!==this.colorInput.value&&(this.colorSwatch.style.borderColor="#"+this.colorInput.value)},bindEvents:function(){this.clearLink&&this.clearLink.addEventListener("click",this._colorSearched.bind(this)),this.colorInput.addEventListener("keydown",this._inputSubmitted.bind(this)),this.colorInput.addEventListener("focus",this._openSwatches.bind(this)),this.colorInput.addEventListener("blur",this._colorSearched.bind(this)),this.colorInput.addEventListener("search",this._colorSearched.bind(this)),this.colorLinks.forEach(function(t){t.addEventListener("mousedown",this._colorSearched.bind(this))}.bind(this))},redraw:function(t){""==this.colorInput.value||t&&t.target===this.clearLink?this.colorSwatch.removeAttribute("style"):this.colorSwatch.style.borderColor="#"+this.colorInput.value,this._updateActiveClass()},_inputSubmitted:function(t){var e=13;t.keyCode==e&&this._colorSearched(t)},_colorSearched:function(t){this._closeSwatches(),this._updateActiveClass(),t.target!=this.clearLink&&t.target.href&&t.target.href.indexOf("=")>=0&&(color=t.target.href.split("=")[1],this.colorInput.value=color),this.colorInput.value=this._hexpand(this.colorInput.value).toUpperCase(),this.redraw(t)},_openSwatches:function(t){var e=document.querySelector(".js-find-shots-color");e&&e.querySelector(".js-dropdown-caret").classList.add("rotate"),t.preventDefault(),this.colorOptions.style.display="block",this._updateActiveClass()},_closeSwatches:function(){var t=document.querySelector(".js-find-shots-color");t&&t.querySelector(".js-dropdown-caret").classList.remove("rotate"),this.colorOptions.style.display="none"},_updateActiveClass:function(){""==this.colorInput.value&&"block"!=this.colorOptions.style.display?this.colorOptions.parentNode.classList.remove("active"):this.colorOptions.parentNode.classList.add("active")},_hexpand:function(t){return 1==t.length?t+t+t+t+t+t:2==t.length?t+t+t:3==t.length?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t}},window.requestAnimationFrame?Dribbble.requestAnimationFrameWithLeadingCall=function(t,e){var i=!1;return function(){var o=arguments;if(!i)return i=!0,t.apply(e,o);window.requestAnimationFrame(function(){t.apply(e,o)})}}:Dribbble.requestAnimationFrameWithLeadingCall=function(t,e){Dribbble.Globals.throttle().then(function(e){return e(t,16)}.bind(e))},Dribbble.CategoryList={initialize:function(){this._render=Dribbble.requestAnimationFrameWithLeadingCall(this._render.bind(this)),document.querySelector(".js-filter-categories")&&(this.categoryList=document.querySelector(".js-filter-categories ul"),this.backArrow=document.querySelector(".scroll-backward a"),this.forwardArrow=document.querySelector(".scroll-forward a"),this.currentCategory=this.categoryList.querySelector("li.active"),this.allCategoryLinks=this.categoryList.querySelectorAll("li.category a"),this.bindEvents(),this._render(),this._ensureActiveCategoryInView())},bindEvents:function(){window.addEventListener("resize",this._render.bind(this)),this.categoryList.addEventListener("scroll",this._render.bind(this)),this.forwardArrow.addEventListener("click",this._forwardClicked.bind(this)),this.backArrow.addEventListener("click",this._backClicked.bind(this)),this.allCategoryLinks.forEach(function(t){t.addEventListener("click",this._categoryClicked.bind(this))}.bind(this))},_render:function(){var t=this.categoryList.scrollLeft>0,e=this.categoryList.scrollLeft+this.categoryList.clientWidth>=this.categoryList.scrollWidth;t?$D.show(this.backArrow):$D.hide(this.backArrow),e?$D.hide(this.forwardArrow):$D.show(this.forwardArrow)},_forwardClicked:function(){this.categoryList.scrollLeft+=this.categoryList.clientWidth},_backClicked:function(){this.categoryList.scrollLeft-=this.categoryList.clientWidth},_ensureActiveCategoryInView:function(){this.currentCategory&&(this.currentCategory.offsetLeft+this.currentCategory.clientWidth<this.categoryList.clientWidth-this.forwardArrow.clientWidth||(this.categoryList.scrollLeft=this.currentCategory.offsetLeft-this.forwardArrow.clientWidth))},_categoryClicked:function(t){var e=t.currentTarget.offsetLeft+t.currentTarget.clientWidth,i=this.categoryList.clientWidth+this.categoryList.scrollLeft-this.forwardArrow.clientWidth,o=e-i,s=e>i;t.currentTarget.offsetLeft-this.backArrow.clientWidth<this.categoryList.scrollLeft&&(this.categoryList.scrollLeft=t.currentTarget.offsetLeft-this.forwardArrow.clientWidth),s&&(this.categoryList.scrollLeft=this.categoryList.scrollLeft+o)}},Dribbble.ShotFiltersToggler={toggler:document.querySelector(".filters-toggle-btn"),inputs:document.querySelectorAll(".shot-filters-form input"),meatball:document.querySelector(".filters-toggle-btn span.meatball"),slideSpeed:100,initialize:function(){this.toggler&&(this.bindEvents(),this.setup())},bindEvents:function(){this.toggler.addEventListener("click",this._toggled.bind(this))},setup:function(){this.toggler.dataset.dropdownState="closed",this.inputs=Array.prototype.slice.call(this.inputs),this.inputs[0]&&"utf8"===this.inputs[0].name&&this.inputs.shift(),this.refresh()},refresh:function(){if(this.toggler){this.toggler.classList.remove("empty"),this.toggler.classList.remove("present");var t=this._activeCount(),e=t>0?"present":"empty";this.toggler.classList.add(e),this.meatball.innerText=t}},close:function(){this.toggler&&(this.toggler.classList.remove("filters-active"),this.refresh(),$(".shot-filters").slideUp(this.slideSpeed))},_toggled:function(t){t.preventDefault(),t.currentTarget.dataset.dropdownState="open"==t.currentTarget.dataset.dropdownState?"closed":"open",this.toggler.classList.toggle("filters-active"),this.refresh(),$(".shot-filters").slideToggle(this.slideSpeed)},_activeCount:function(){var t=this._inputsWithValues();if(t){var e=t.length;return this._bothPriceFiltersActive(t)&&(e-=1),document.querySelector(".find-shots-made-with .btn-dropdown-options li.active:not(.default-filter-option)")&&(e+=1),e}},_isActive:function(t){return t.contains("filters-active")},_inputsWithValues:function(){if(document.querySelector(".js-shot-views")){var t=document.querySelector(".js-shot-views li.active").innerText;return this.inputs.filter(function(e){return"Recent"!=t&&"Following"!=t||"timeframe"!=e.name?e.value.length>0:void 0})}return this.inputs.filter(function(t){return t.value.length>0&&"\u2713"!==t.value})},_bothPriceFiltersActive:function(t){return 2===t.filter(function(t){return"price_floor"===t.id||"price_ceiling"===t.id}).length}};
/*
    JavaScript autoComplete v1.0.4
    Copyright (c) 2014 Simon Steinberger / Pixabay
    GitHub: https://github.com/Pixabay/JavaScript-autoComplete
    License: http://www.opensource.org/licenses/mit-license.php
*/
var autoComplete=function(){function t(t){function e(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function i(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)}function o(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener(e,i)}function s(t,o,s,r){i(r||document,o,function(i){for(var o,r=i.target||i.srcElement;r&&!(o=e(r,t));)r=r.parentElement;o&&s.call(r,i)})}if(document.querySelector){var r={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(i,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(var a="object"==typeof r.selector?[r.selector]:document.querySelectorAll(r.selector),c=0;c<a.length;c++){var l=a[c];l.sc=document.createElement("div"),l.sc.className="autocomplete-suggestions "+r.menuClass,l.autocompleteAttr=l.getAttribute("autocomplete"),l.setAttribute("autocomplete","off"),l.cache={},l.last_val="",l.updateSC=function(t,e){var i=l.getBoundingClientRect();if(l.sc.style.left=Math.round(i.left+(window.pageXOffset||document.documentElement.scrollLeft)+r.offsetLeft)+"px",l.sc.style.top=Math.round(i.bottom+(window.pageYOffset||document.documentElement.scrollTop)+r.offsetTop)+"px",l.sc.style.width=Math.round(i.right-i.left)+"px",!t&&(l.sc.style.display="block",l.sc.maxHeight||(l.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(l.sc,null):l.sc.currentStyle).maxHeight)),l.sc.suggestionHeight||(l.sc.suggestionHeight=l.sc.querySelector(".autocomplete-suggestion").offsetHeight),l.sc.suggestionHeight))if(e){var o=l.sc.scrollTop,s=e.getBoundingClientRect().top-l.sc.getBoundingClientRect().top;s+l.sc.suggestionHeight-l.sc.maxHeight>0?l.sc.scrollTop=s+l.sc.suggestionHeight+o-l.sc.maxHeight:s<0&&(l.sc.scrollTop=s+o)}else l.sc.scrollTop=0},i(window,"resize",l.updateSC),document.body.appendChild(l.sc),s("autocomplete-suggestion","mouseleave",function(){var t=l.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},l.sc),s("autocomplete-suggestion","mouseover",function(){var t=l.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},l.sc),s("autocomplete-suggestion","mousedown",function(t){if(e(this,"autocomplete-suggestion")){var i=this.getAttribute("data-val");l.value=i,r.onSelect(t,i,this),l.sc.style.display="none"}},l.sc),l.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?l!==document.activeElement&&setTimeout(function(){l.focus()},20):(l.last_val=l.value,l.sc.style.display="none",setTimeout(function(){l.sc.style.display="none"},350))},i(l,"blur",l.blurHandler);var u=function(t){var e=l.value;if(l.cache[e]=t,t.length&&e.length>=r.minChars){for(var i="",o=0;o<t.length;o++)i+=r.renderItem(t[o],e);l.sc.innerHTML=i,l.updateSC(0)}else l.sc.style.display="none"};l.keydownHandler=function(t){var e,i=window.event?t.keyCode:t.which;if((40==i||38==i)&&l.sc.innerHTML)return(o=l.sc.querySelector(".autocomplete-suggestion.selected"))?(e=40==i?o.nextSibling:o.previousSibling)?(o.className=o.className.replace("selected",""),e.className+=" selected",l.value=e.getAttribute("data-val")):(o.className=o.className.replace("selected",""),l.value=l.last_val,e=0):((e=40==i?l.sc.querySelector(".autocomplete-suggestion"):l.sc.childNodes[l.sc.childNodes.length-1]).className+=" selected",l.value=e.getAttribute("data-val")),l.updateSC(0,e),!1;if(27==i)l.value=l.last_val,l.sc.style.display="none";else if(13==i||9==i){var o;(o=l.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=l.sc.style.display&&(r.onSelect(t,o.getAttribute("data-val"),o),setTimeout(function(){l.sc.style.display="none"},20))}},i(l,"keydown",l.keydownHandler),l.keyupHandler=function(t){var e=window.event?t.keyCode:t.which;if(!e||(e<35||e>40)&&13!=e&&27!=e){var i=l.value;if(i.length>=r.minChars){if(i!=l.last_val){if(l.last_val=i,clearTimeout(l.timer),r.cache){if(i in l.cache)return void u(l.cache[i]);for(var o=1;o<i.length-r.minChars;o++){var s=i.slice(0,i.length-o);if(s in l.cache&&!l.cache[s].length)return void u([])}}l.timer=setTimeout(function(){r.source(i,u)},r.delay)}}else l.last_val=i,l.sc.style.display="none"}},i(l,"keyup",l.keyupHandler),l.focusHandler=function(t){l.last_val="\n",l.keyupHandler(t)},r.minChars||i(l,"focus",l.focusHandler)}this.destroy=function(){for(var t=0;t<a.length;t++){var e=a[t];o(window,"resize",e.updateSC),o(e,"blur",e.blurHandler),o(e,"focus",e.focusHandler),o(e,"keydown",e.keydownHandler),o(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}}return t}();"function"==typeof define&&define.amd?define("autoComplete",function(){return autoComplete}):"undefined"!=typeof module&&module.exports?module.exports=autoComplete:window.autoComplete=autoComplete;